class o{constructor(){var t;this.baseUrl="/admin/products/mwf-integration",this.csrfToken=(t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content")}async request(t,e,r=null){const s={method:t.toUpperCase(),headers:{Accept:"application/json","Content-Type":"application/json"}};this.csrfToken&&(s.headers["X-CSRF-TOKEN"]=this.csrfToken),r&&(t.toUpperCase()==="POST"||t.toUpperCase()==="PUT")&&(s.body=JSON.stringify(r));const i=`${this.baseUrl}${e}`,a=await fetch(i,s);if(!a.ok){const n=await a.json().catch(()=>({message:"Network error"}));throw new Error(n.message||`HTTP ${a.status}: ${a.statusText}`)}return await a.json()}async getCapabilities(){return await this.request("GET","/capabilities")}async getProduct(t){return await this.request("GET",`/products/${t}/edit`)}async updateProduct(t,e){return await this.request("PUT",`/products/${t}`,e)}async getProductVariations(t){return await this.request("GET",`/products/${t}/variations`)}async createVariation(t,e){return await this.request("POST",`/products/${t}/variations`,e)}async updateVariation(t,e){return await this.request("PUT",`/products/variations/${t}`,e)}async deleteVariation(t){return await this.request("DELETE",`/products/variations/${t}`)}async getProductAttributes(t){return await this.request("GET",`/products/${t}/attributes`)}async updateProductAttributes(t,e){return await this.request("POST",`/products/${t}/attributes`,e)}async bulkUpdateVariations(t){return await this.request("POST","/products/variations/bulk-update",t)}async executeAction(t,e,r={}){const s={action:t,product_ids:e,...r};return await this.request("POST","/actions",s)}async bulkUpdate(t){return await this.request("POST","/products/bulk-update",t)}}window.mwfApi=new o;window.dispatchEvent(new CustomEvent("mwfApiReady",{detail:window.mwfApi}));
